
<div class="row justify-content-center mt-5 mb-5 ml-5" style="width: 70%">
    <hr>
    <div class="col-md-5 justify-content-center card bg-light" style="height: fit-content">
        <div class="clearfix">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="text-center">
                        <h3><i class="fa fa-lock fa-4x"></i></h3>
                        <h2 class="text-center">Bảo mật</h2>
                        <p>Thay đổi mât khẩu mới.</p>
                        <div class="panel-body">
                            <form class="form" method="post">
                                <fieldset>
                                    {{#if error}}
                                        <p>Lỗi: {{error}}</p>
                                    {{/if}}
                                    {{#if user}}
                                    <div class="form-group">
                                        <div class="input-group">
                                            <input id="emailInput" name="old_password" placeholder="Mật khẩu cũ" class="form-control" type="password"  required="">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="input-group">
                                            <input id="emailInput" name="password" placeholder="Mật khẩu mới" class="form-control" type="password"  required="">
                                        </div>
                                    </div>
                                        <div class="form-group">
                                            <div class="input-group">
                                                <input id="emailInput" placeholder="Xác nhận mật khẩu" class="form-control" type="password"  required="">
                                            </div>
                                        </div>
                                    {{else}}
                                        <div class="form-group">
                                            <div class="input-group">
                                                <input id="emailInput" name="password" placeholder="Mật khẩu mới" class="form-control" type="password"  required="">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="input-group">
                                                <input id="emailInput" placeholder="Xác nhận mật khẩu" class="form-control" type="password"  required="">
                                            </div>
                                        </div>
                                    {{/if}}

                                    <div class="form-group">
                                        <input class="btn btn-lg btn-primary btn-block" value="Khôi phục mật khẩu" type="submit">
                                    </div>
                                </fieldset>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    var password = document.getElementById("password")
            , confirm_password = document.getElementById("confirm_password");

    function validatePassword(){
        if(password.value < 6) {
            password.setCustomValidity("Ít nhất 6 ký tự");
        } else {
            password.setCustomValidity('');
        }
        if(password.value != confirm_password.value) {
            confirm_password.setCustomValidity("Không trùng mật khẩu");
        } else {
            confirm_password.setCustomValidity('');
        }
    }

    password.onchange = validatePassword;
    confirm_password.onkeyup = validatePassword;
</script>